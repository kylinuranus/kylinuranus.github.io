---
layout: post
title:  "设计模式(二)"
date:   2018-08-26
tag: iOS
permalink: /page/Pattern2.html
type: legacy

---


余下的设计模式在Cocoa Touch框架中都有比较形象的体现，因此不贴相关伪代码

### 抽象集合

- 组合模式 将对象组合成树形结构以表示‘部分-整体’的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性
  
 比如Cocoa Touch的UIView

- 迭代器 枚举，顺序的访问一个对象内的各个元素


### 行为扩展

- 装饰模式 动态地给一个对象添加一些额外的职责，就增加功能来说，装饰模式比生成子类更为灵活 
  
  这个就是iOS 中的Category 了
   
- 访问者模式 表示一个作用于某对象结构中的各元素的操作。它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作

```
   一个类里有不同的属性,比如一个KFC 有生产 面包，香肠，牛排 
   
   但是它里面的东西可以组合成不同的东西，比如汉堡，热狗，鸡肉卷，这时候可以定义一些方法，完成各自需要的东西，
   
   当不同的人需要不同的东西只要访问不同的方法就可以了
   
```


- 职责链模式 使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。将这个对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止
   
   iOS中的手势响应链


### 算法封装

- 模板方法模式 定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤
  
  iOS 中的drawRect方法
  
- 策略模式 它定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化，不会影响到使用算法的客户
  
```
   封装一些算法，暴露接口供外部使用

```

- 命令模式 将一个请求封装为一个对象，从而使你可用不同的请求对客户进行参数化；对请求排队或记录请求日志，以及支持可撤销的操作
  
   iOS 中的target + action


### 性能和对象访问

- 代理模式 为其他对象提供一种代理以控制对这个对象的访问
 
- 享元模式 运用共享技术有效地支持大量细粒度的对 
   
  iOS 中的 UITableViewCell的复用模式
  

### 对象状态

- 备忘录模式 在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态
 
  就是数据的持久化缓存


